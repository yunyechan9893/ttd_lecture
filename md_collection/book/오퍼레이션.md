---

# TDDμ—μ„ μ¤νΌλ μ΄μ…(Operation)μ μλ―Έμ™€ νλ¦„

## π“ μ¤νΌλ μ΄μ…μ΄λ€?

- μ‹μ¤ν…μ΄ μ‚¬μ©μμ—κ² μ κ³µν•λ” **κΈ°λ¥ λ‹¨μ„μ ν–‰μ„**
- TDDμ—μ„λ” ν•λ‚μ μ¤νΌλ μ΄μ…μ„ ν…μ¤νΈ β†’ κµ¬ν„ β†’ λ¦¬ν©ν„°λ§μ λ‹¨μ„λ΅ μ‚¬μ©
- ν”ν μ μ¤μΌ€μ΄μ¤(Use Case) λλ” λ„λ©”μΈ κΈ°λ¥μΌλ΅ μ΄ν•΄ν•  μ μμ

---

## β… μ¤νΌλ μ΄μ…μ μμ‹

### μ”κµ¬μ‚¬ν•­
> μ‚¬μ©μλ” μƒν’μ„ μ¥λ°”κµ¬λ‹μ— μ¶”κ°€ν•  μ μμ–΄μ•Ό ν•λ‹¤.

### μ¤νΌλ μ΄μ… μ •μ
- `addProductToCart(Product product)`

### ν…μ¤νΈ μ½”λ“ μμ‹
```java
@Test
void μƒν’μ„_μ¥λ°”κµ¬λ‹μ—_μ¶”κ°€ν• _μ_μλ‹¤() {
    Cart cart = new Cart();
    Product product = new Product("μ—°ν•„", 500);

    cart.addProduct(product);

    assertEquals(1, cart.getItems().size());
}
````

---

## π§­ μ¤νΌλ μ΄μ… μ¤‘μ‹¬μ κ°λ° νλ¦„ (TDD κ΄€μ )

1. **μ¤νΌλ μ΄μ… μ •μ**

    * κΈ°λ¥μ„ μ¤νΌλ μ΄μ… λ‹¨μ„λ΅ λ¶„λ¦¬
    * μ: κ²μ‹κΈ€ μ‘μ„±, μ£Όλ¬Έ μ·¨μ†, μƒν’ κ²€μƒ‰

2. **ν…μ¤νΈ μ‘μ„±**

    * μ¤νΌλ μ΄μ…μ„ κΈ°λ°μΌλ΅ ν…μ¤νΈ μ½”λ“ μ‘μ„±
    * μ•„μ§ κµ¬ν„μ΄ μ—†κΈ° λ•λ¬Έμ— **μΈν„°νμ΄μ¤λ§ μ •μν•κ³  mock**μ„ μ‚¬μ©

3. **μΈν„°νμ΄μ¤ μ •μ**

    * μ„λΉ„μ¤, λ ν¬μ§€ν† λ¦¬ λ“± ν•„μ”ν• μΈν„°νμ΄μ¤μ— μ¤νΌλ μ΄μ… μ¶”κ°€

4. **mock/stub κΈ°λ° ν…μ¤νΈ μ‘μ„±**

    * κΈ°λ€λλ” λ°ν™κ°’ μ„¤μ •
    * ν…μ¤νΈ κµ¬μ΅° μ™„μ„±

5. **κµ¬ν„μ²΄ μ‘μ„±**

    * μ‹¤μ  λ΅μ§ μ‘μ„±
    * ν…μ¤νΈ ν†µκ³Ό

6. **λ¦¬ν©ν„°λ§ λ° ν†µν•© ν…μ¤νΈ ν™•μ¥**

---

## π”„ μμ‹: κ²μ‹κΈ€ μ‘μ„± νλ¦„

### μ¤νΌλ μ΄μ… μ •μ

* `createPost(CreatePostCommand command)`

### μΈν„°νμ΄μ¤

```java
public interface PostService {
    Post createPost(CreatePostCommand command);
}
```

### ν…μ¤νΈ μ½”λ“ (mock κΈ°λ°)

```java
@Test
void κ²μ‹κΈ€μ„_μ‘μ„±ν• _μ_μλ‹¤() {
    CreatePostCommand command = new CreatePostCommand("μ λ©", "λ‚΄μ©", "μ‘μ„±μID");

    when(postService.createPost(command))
        .thenReturn(new Post(1L, "μ λ©", "λ‚΄μ©", "μ‘μ„±μID"));

    Post result = postService.createPost(command);

    assertEquals("μ λ©", result.getTitle());
}
```

### κµ¬ν„μ²΄

```java
@Service
public class PostServiceImpl implements PostService {
    private final PostRepository postRepository;

    public PostServiceImpl(PostRepository postRepository) {
        this.postRepository = postRepository;
    }

    @Override
    public Post createPost(CreatePostCommand command) {
        Post post = new Post(null, command.title(), command.content(), command.authorId());
        return postRepository.save(post);
    }
}
```

---

## π― Mockμ€ κ²°κµ­ μ—†μ–΄μ§€λ”κ°€?

* λ€λ¶€λ¶„ **ν†µν•© ν…μ¤νΈλ΅ λ€μ²΄λμ§€λ§**, μΌλ¶€λ” κ³„μ† μ μ§€λ¨
* μ μ§€λλ” κ²½μ°:

    * μ™Έλ¶€ API νΈμ¶ μ°¨λ‹¨
    * λΉ λ¥Έ λ‹¨μ„ ν…μ¤νΈ μ μ§€
    * μ»¨νΈλ™νΈ μ„±κ²©μ ν…μ¤νΈ
    * ν…μ¤νΈμ—μ„ ν•μ„ κ³„μΈµ κ²©λ¦¬ ν•„μ”

---

## π“ μ”μ•½

| ν•­λ©       | μ„¤λ…                              |
| -------- | ------------------------------- |
| μ¤νΌλ μ΄μ…    | μ‚¬μ©μ λλ” μ‹μ¤ν…μ΄ μν–‰ν•λ” κΈ°λ¥ λ‹¨μ„          |
| μΈν„°νμ΄μ¤    | μ¤νΌλ μ΄μ…μ„ μ¶”μƒν™”ν•μ—¬ μ •μ (μ„λΉ„μ¤, λ ν¬μ§€ν† λ¦¬ λ“±)  |
| ν…μ¤νΈ νλ¦„   | ν…μ¤νΈ β†’ μΈν„°νμ΄μ¤ μ •μ β†’ mock β†’ κµ¬ν„μ²΄ μ‘μ„±  |
| Mockμ μ—­ν•  | μ΄κΈ° ν…μ¤νΈ scaffolding β†’ μΌλ¶€λ” κ³„μ† μ μ§€λ¨ |
| μ¥μ        | κΈ°λ¥ μ¤‘μ‹¬ κ°λ°, ν…μ¤νΈ κ°€λ¥μ„± λ†’μ, λ¦¬ν©ν„°λ§ μ©μ΄   |
